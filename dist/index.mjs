import ct from"readline";import dt from"events";import J,{mkdirSync as Ei,readdirSync as ji,readFileSync as ki,writeFileSync as Fi}from"node:fs";import ft,{resolve as pt,join as W}from"node:path";import{fileURLToPath as Yi}from"node:url";import{exit as Hi}from"node:process";function Vi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var K={},Z,mt;function q(){if(mt)return Z;mt=1;const{FORCE_COLOR:e,NODE_DISABLE_COLORS:n,TERM:a}=process.env,t={enabled:!n&&a!=="dumb"&&e!=="0",reset:r(0,0),bold:r(1,22),dim:r(2,22),italic:r(3,23),underline:r(4,24),inverse:r(7,27),hidden:r(8,28),strikethrough:r(9,29),black:r(30,39),red:r(31,39),green:r(32,39),yellow:r(33,39),blue:r(34,39),magenta:r(35,39),cyan:r(36,39),white:r(37,39),gray:r(90,39),grey:r(90,39),bgBlack:r(40,49),bgRed:r(41,49),bgGreen:r(42,49),bgYellow:r(43,49),bgBlue:r(44,49),bgMagenta:r(45,49),bgCyan:r(46,49),bgWhite:r(47,49)};function h(g,s){let u=0,i,f="",p="";for(;u<g.length;u++)i=g[u],f+=i.open,p+=i.close,s.includes(i.close)&&(s=s.replace(i.rgx,i.close+i.open));return f+s+p}function v(g,s){let u={has:g,keys:s};return u.reset=t.reset.bind(u),u.bold=t.bold.bind(u),u.dim=t.dim.bind(u),u.italic=t.italic.bind(u),u.underline=t.underline.bind(u),u.inverse=t.inverse.bind(u),u.hidden=t.hidden.bind(u),u.strikethrough=t.strikethrough.bind(u),u.black=t.black.bind(u),u.red=t.red.bind(u),u.green=t.green.bind(u),u.yellow=t.yellow.bind(u),u.blue=t.blue.bind(u),u.magenta=t.magenta.bind(u),u.cyan=t.cyan.bind(u),u.white=t.white.bind(u),u.gray=t.gray.bind(u),u.grey=t.grey.bind(u),u.bgBlack=t.bgBlack.bind(u),u.bgRed=t.bgRed.bind(u),u.bgGreen=t.bgGreen.bind(u),u.bgYellow=t.bgYellow.bind(u),u.bgBlue=t.bgBlue.bind(u),u.bgMagenta=t.bgMagenta.bind(u),u.bgCyan=t.bgCyan.bind(u),u.bgWhite=t.bgWhite.bind(u),u}function r(g,s){let u={open:`\x1B[${g}m`,close:`\x1B[${s}m`,rgx:new RegExp(`\\x1b\\[${s}m`,"g")};return function(i){return this!==void 0&&this.has!==void 0?(this.has.includes(g)||(this.has.push(g),this.keys.push(u)),i===void 0?this:t.enabled?h(this.keys,i+""):i+""):i===void 0?v([g],[u]):t.enabled?h([u],i+""):i+""}}return Z=t,Z}var X,gt;function Li(){return gt||(gt=1,X=(e,n)=>{if(!(e.meta&&e.name!=="escape")){if(e.ctrl){if(e.name==="a")return"first";if(e.name==="c"||e.name==="d")return"abort";if(e.name==="e")return"last";if(e.name==="g")return"reset"}if(n){if(e.name==="j")return"down";if(e.name==="k")return"up"}return e.name==="return"||e.name==="enter"?"submit":e.name==="backspace"?"delete":e.name==="delete"?"deleteForward":e.name==="abort"?"abort":e.name==="escape"?"exit":e.name==="tab"?"next":e.name==="pagedown"?"nextPage":e.name==="pageup"?"prevPage":e.name==="home"?"home":e.name==="end"?"end":e.name==="up"?"up":e.name==="down"?"down":e.name==="right"?"right":e.name==="left"?"left":!1}}),X}var Q,vt;function ee(){return vt||(vt=1,Q=e=>{const n=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),a=new RegExp(n,"g");return typeof e=="string"?e.replace(a,""):e}),Q}var te,bt;function D(){if(bt)return te;bt=1;const e="\x1B",n=`${e}[`,a="\x07",t={to(r,g){return g?`${n}${g+1};${r+1}H`:`${n}${r+1}G`},move(r,g){let s="";return r<0?s+=`${n}${-r}D`:r>0&&(s+=`${n}${r}C`),g<0?s+=`${n}${-g}A`:g>0&&(s+=`${n}${g}B`),s},up:(r=1)=>`${n}${r}A`,down:(r=1)=>`${n}${r}B`,forward:(r=1)=>`${n}${r}C`,backward:(r=1)=>`${n}${r}D`,nextLine:(r=1)=>`${n}E`.repeat(r),prevLine:(r=1)=>`${n}F`.repeat(r),left:`${n}G`,hide:`${n}?25l`,show:`${n}?25h`,save:`${e}7`,restore:`${e}8`},h={up:(r=1)=>`${n}S`.repeat(r),down:(r=1)=>`${n}T`.repeat(r)},v={screen:`${n}2J`,up:(r=1)=>`${n}1J`.repeat(r),down:(r=1)=>`${n}J`.repeat(r),line:`${n}2K`,lineEnd:`${n}K`,lineStart:`${n}1K`,lines(r){let g="";for(let s=0;s<r;s++)g+=this.line+(s<r-1?t.up():"");return r&&(g+=t.left),g}};return te={cursor:t,scroll:h,erase:v,beep:a},te}var ie,wt;function Ni(){if(wt)return ie;wt=1;function e(s,u){var i=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!i){if(Array.isArray(s)||(i=n(s))||u&&s&&typeof s.length=="number"){i&&(s=i);var f=0,p=function(){};return{s:p,n:function(){return f>=s.length?{done:!0}:{done:!1,value:s[f++]}},e:function(d){throw d},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,l=!1,w;return{s:function(){i=i.call(s)},n:function(){var d=i.next();return o=d.done,d},e:function(d){l=!0,w=d},f:function(){try{!o&&i.return!=null&&i.return()}finally{if(l)throw w}}}}function n(s,u){if(s){if(typeof s=="string")return a(s,u);var i=Object.prototype.toString.call(s).slice(8,-1);if(i==="Object"&&s.constructor&&(i=s.constructor.name),i==="Map"||i==="Set")return Array.from(s);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return a(s,u)}}function a(s,u){(u==null||u>s.length)&&(u=s.length);for(var i=0,f=new Array(u);i<u;i++)f[i]=s[i];return f}const t=ee(),h=D(),v=h.erase,r=h.cursor,g=s=>[...t(s)].length;return ie=function(s,u){if(!u)return v.line+r.to(0);let i=0;const f=s.split(/\r?\n/);var p=e(f),o;try{for(p.s();!(o=p.n()).done;){let l=o.value;i+=1+Math.floor(Math.max(g(l)-1,0)/u)}}catch(l){p.e(l)}finally{p.f()}return v.lines(i)},ie}var re,yt;function xt(){if(yt)return re;yt=1;const e={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},n={arrowUp:e.arrowUp,arrowDown:e.arrowDown,arrowLeft:e.arrowLeft,arrowRight:e.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return re=process.platform==="win32"?n:e,re}var se,St;function Ui(){if(St)return se;St=1;const e=q(),n=xt(),a=Object.freeze({password:{scale:1,render:s=>"*".repeat(s.length)},emoji:{scale:2,render:s=>"\u{1F603}".repeat(s.length)},invisible:{scale:0,render:s=>""},default:{scale:1,render:s=>`${s}`}}),t=s=>a[s]||a.default,h=Object.freeze({aborted:e.red(n.cross),done:e.green(n.tick),exited:e.yellow(n.cross),default:e.cyan("?")});return se={styles:a,render:t,symbols:h,symbol:(s,u,i)=>u?h.aborted:i?h.exited:s?h.done:h.default,delimiter:s=>e.gray(s?n.ellipsis:n.pointerSmall),item:(s,u)=>e.gray(s?u?n.pointerSmall:"+":n.line)},se}var ne,$t;function Gi(){if($t)return ne;$t=1;const e=ee();return ne=function(n,a){let t=String(e(n)||"").split(/\r?\n/);return a?t.map(h=>Math.ceil(h.length/a)).reduce((h,v)=>h+v):t.length},ne}var oe,Mt;function Bi(){return Mt||(Mt=1,oe=(e,n={})=>{const a=Number.isSafeInteger(parseInt(n.margin))?new Array(parseInt(n.margin)).fill(" ").join(""):n.margin||"",t=n.width;return(e||"").split(/\r?\n/g).map(h=>h.split(/\s+/g).reduce((v,r)=>(r.length+a.length>=t||v[v.length-1].length+r.length+1<t?v[v.length-1]+=` ${r}`:v.push(`${a}${r}`),v),[a]).join(`
`)).join(`
`)}),oe}var he,Ot;function Ji(){return Ot||(Ot=1,he=(e,n,a)=>{a=a||n;let t=Math.min(n-a,e-Math.floor(a/2));t<0&&(t=0);let h=Math.min(t+a,n);return{startIndex:t,endIndex:h}}),he}var le,Pt;function j(){return Pt||(Pt=1,le={action:Li(),clear:Ni(),style:Ui(),strip:ee(),figures:xt(),lines:Gi(),wrap:Bi(),entriesToDisplay:Ji()}),le}var ue,Tt;function H(){if(Tt)return ue;Tt=1;const e=ct,n=j(),a=n.action,t=dt,h=D(),v=h.beep,r=h.cursor,g=q();class s extends t{constructor(i={}){super(),this.firstRender=!0,this.in=i.stdin||process.stdin,this.out=i.stdout||process.stdout,this.onRender=(i.onRender||(()=>{})).bind(this);const f=e.createInterface({input:this.in,escapeCodeTimeout:50});e.emitKeypressEvents(this.in,f),this.in.isTTY&&this.in.setRawMode(!0);const p=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,o=(l,w)=>{let m=a(w,p);m===!1?this._&&this._(l,w):typeof this[m]=="function"?this[m](w):this.bell()};this.close=()=>{this.out.write(r.show),this.in.removeListener("keypress",o),this.in.isTTY&&this.in.setRawMode(!1),f.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",o)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(v)}render(){this.onRender(g),this.firstRender&&(this.firstRender=!1)}}return ue=s,ue}var ae,qt;function Wi(){if(qt)return ae;qt=1;function e(o,l,w,m,d,c,b){try{var x=o[c](b),y=x.value}catch(S){w(S);return}x.done?l(y):Promise.resolve(y).then(m,d)}function n(o){return function(){var l=this,w=arguments;return new Promise(function(m,d){var c=o.apply(l,w);function b(y){e(c,m,d,b,x,"next",y)}function x(y){e(c,m,d,b,x,"throw",y)}b(void 0)})}}const a=q(),t=H(),h=D(),v=h.erase,r=h.cursor,g=j(),s=g.style,u=g.clear,i=g.lines,f=g.figures;class p extends t{constructor(l={}){super(l),this.transform=s.render(l.style),this.scale=this.transform.scale,this.msg=l.message,this.initial=l.initial||"",this.validator=l.validate||(()=>!0),this.value="",this.errorMsg=l.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=u("",this.out.columns),this.render()}set value(l){!l&&this.initial?(this.placeholder=!0,this.rendered=a.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(l)),this._value=l,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var l=this;return n(function*(){let w=yield l.validator(l.value);typeof w=="string"&&(l.errorMsg=w,w=!1),l.error=!w})()}submit(){var l=this;return n(function*(){if(l.value=l.value||l.initial,l.cursorOffset=0,l.cursor=l.rendered.length,yield l.validate(),l.error){l.red=!0,l.fire(),l.render();return}l.done=!0,l.aborted=!1,l.fire(),l.render(),l.out.write(`
`),l.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(l){this.placeholder||(this.cursor=this.cursor+l,this.cursorOffset+=l)}_(l,w){let m=this.value.slice(0,this.cursor),d=this.value.slice(this.cursor);this.value=`${m}${l}${d}`,this.red=!1,this.cursor=this.placeholder?0:m.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let l=this.value.slice(0,this.cursor-1),w=this.value.slice(this.cursor);this.value=`${l}${w}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let l=this.value.slice(0,this.cursor),w=this.value.slice(this.cursor+1);this.value=`${l}${w}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(r.down(i(this.outputError,this.out.columns)-1)+u(this.outputError,this.out.columns)),this.out.write(u(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[s.symbol(this.done,this.aborted),a.bold(this.msg),s.delimiter(this.done),this.red?a.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((l,w,m)=>l+`
${m?" ":f.pointerSmall} ${a.red().italic(w)}`,"")),this.out.write(v.line+r.to(0)+this.outputText+r.save+this.outputError+r.restore+r.move(this.cursorOffset,0)))}}return ae=p,ae}var ce,Dt;function zi(){if(Dt)return ce;Dt=1;const e=q(),n=H(),a=j(),t=a.style,h=a.clear,v=a.figures,r=a.wrap,g=a.entriesToDisplay,s=D(),u=s.cursor;class i extends n{constructor(p={}){super(p),this.msg=p.message,this.hint=p.hint||"- Use arrow-keys. Return to submit.",this.warn=p.warn||"- This option is disabled",this.cursor=p.initial||0,this.choices=p.choices.map((o,l)=>(typeof o=="string"&&(o={title:o,value:l}),{title:o&&(o.title||o.value||o),value:o&&(o.value===void 0?l:o.value),description:o&&o.description,selected:o&&o.selected,disabled:o&&o.disabled})),this.optionsPerPage=p.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=h("",this.out.columns),this.render()}moveCursor(p){this.cursor=p,this.value=this.choices[p].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(p,o){if(p===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(u.hide):this.out.write(h(this.outputText,this.out.columns)),super.render();let p=g(this.cursor,this.choices.length,this.optionsPerPage),o=p.startIndex,l=p.endIndex;if(this.outputText=[t.symbol(this.done,this.aborted),e.bold(this.msg),t.delimiter(!1),this.done?this.selection.title:this.selection.disabled?e.yellow(this.warn):e.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let w=o;w<l;w++){let m,d,c="",b=this.choices[w];w===o&&o>0?d=v.arrowUp:w===l-1&&l<this.choices.length?d=v.arrowDown:d=" ",b.disabled?(m=this.cursor===w?e.gray().underline(b.title):e.strikethrough().gray(b.title),d=(this.cursor===w?e.bold().gray(v.pointer)+" ":"  ")+d):(m=this.cursor===w?e.cyan().underline(b.title):b.title,d=(this.cursor===w?e.cyan(v.pointer)+" ":"  ")+d,b.description&&this.cursor===w&&(c=` - ${b.description}`,(d.length+m.length+c.length>=this.out.columns||b.description.split(/\r?\n/).length>1)&&(c=`
`+r(b.description,{margin:3,width:this.out.columns})))),this.outputText+=`${d} ${m}${e.gray(c)}
`}}this.out.write(this.outputText)}}return ce=i,ce}var de,Rt;function Ki(){if(Rt)return de;Rt=1;const e=q(),n=H(),a=j(),t=a.style,h=a.clear,v=D(),r=v.cursor,g=v.erase;class s extends n{constructor(i={}){super(i),this.msg=i.message,this.value=!!i.initial,this.active=i.active||"on",this.inactive=i.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(i,f){if(i===" ")this.value=!this.value;else if(i==="1")this.value=!0;else if(i==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(r.hide):this.out.write(h(this.outputText,this.out.columns)),super.render(),this.outputText=[t.symbol(this.done,this.aborted),e.bold(this.msg),t.delimiter(this.done),this.value?this.inactive:e.cyan().underline(this.inactive),e.gray("/"),this.value?e.cyan().underline(this.active):this.active].join(" "),this.out.write(g.line+r.to(0)+this.outputText))}}return de=s,de}var fe,_t;function F(){if(_t)return fe;_t=1;class e{constructor({token:a,date:t,parts:h,locales:v}){this.token=a,this.date=t||new Date,this.parts=h||[this],this.locales=v||{}}up(){}down(){}next(){const a=this.parts.indexOf(this);return this.parts.find((t,h)=>h>a&&t instanceof e)}setTo(a){}prev(){let a=[].concat(this.parts).reverse();const t=a.indexOf(this);return a.find((h,v)=>v>t&&h instanceof e)}toString(){return String(this.date)}}return fe=e,fe}var pe,Ct;function Zi(){if(Ct)return pe;Ct=1;const e=F();class n extends e{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}return pe=n,pe}var me,It;function Xi(){if(It)return me;It=1;const e=F(),n=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th");class a extends e{constructor(h={}){super(h)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(h){this.date.setDate(parseInt(h.substr(-2)))}toString(){let h=this.date.getDate(),v=this.date.getDay();return this.token==="DD"?String(h).padStart(2,"0"):this.token==="Do"?h+n(h):this.token==="d"?v+1:this.token==="ddd"?this.locales.weekdaysShort[v]:this.token==="dddd"?this.locales.weekdays[v]:h}}return me=a,me}var ge,At;function Qi(){if(At)return ge;At=1;const e=F();class n extends e{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}}return ge=n,ge}var ve,Et;function er(){if(Et)return ve;Et=1;const e=F();class n extends e{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return ve=n,ve}var be,jt;function tr(){if(jt)return be;jt=1;const e=F();class n extends e{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}return be=n,be}var we,kt;function ir(){if(kt)return we;kt=1;const e=F();class n extends e{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),h=this.token.length;return h===2?String(t+1).padStart(2,"0"):h===3?this.locales.monthsShort[t]:h===4?this.locales.months[t]:String(t+1)}}return we=n,we}var ye,Ft;function rr(){if(Ft)return ye;Ft=1;const e=F();class n extends e{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}return ye=n,ye}var xe,Yt;function sr(){if(Yt)return xe;Yt=1;const e=F();class n extends e{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}}return xe=n,xe}var Se,Ht;function nr(){return Ht||(Ht=1,Se={DatePart:F(),Meridiem:Zi(),Day:Xi(),Hours:Qi(),Milliseconds:er(),Minutes:tr(),Month:ir(),Seconds:rr(),Year:sr()}),Se}var $e,Vt;function or(){if(Vt)return $e;Vt=1;function e($,M,T,I,R,_,E){try{var A=$[_](E),C=A.value}catch(N){T(N);return}A.done?M(C):Promise.resolve(C).then(I,R)}function n($){return function(){var M=this,T=arguments;return new Promise(function(I,R){var _=$.apply(M,T);function E(C){e(_,I,R,E,A,"next",C)}function A(C){e(_,I,R,E,A,"throw",C)}E(void 0)})}}const a=q(),t=H(),h=j(),v=h.style,r=h.clear,g=h.figures,s=D(),u=s.erase,i=s.cursor,f=nr(),p=f.DatePart,o=f.Meridiem,l=f.Day,w=f.Hours,m=f.Milliseconds,d=f.Minutes,c=f.Month,b=f.Seconds,x=f.Year,y=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,S={1:({token:$})=>$.replace(/\\(.)/g,"$1"),2:$=>new l($),3:$=>new c($),4:$=>new x($),5:$=>new o($),6:$=>new w($),7:$=>new d($),8:$=>new b($),9:$=>new m($)},P={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class O extends t{constructor(M={}){super(M),this.msg=M.message,this.cursor=0,this.typed="",this.locales=Object.assign(P,M.locales),this._date=M.initial||new Date,this.errorMsg=M.error||"Please Enter A Valid Value",this.validator=M.validate||(()=>!0),this.mask=M.mask||"YYYY-MM-DD HH:mm:ss",this.clear=r("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(M){M&&this._date.setTime(M.getTime())}set mask(M){let T;for(this.parts=[];T=y.exec(M);){let R=T.shift(),_=T.findIndex(E=>E!=null);this.parts.push(_ in S?S[_]({token:T[_]||R,date:this.date,parts:this.parts,locales:this.locales}):T[_]||R)}let I=this.parts.reduce((R,_)=>(typeof _=="string"&&typeof R[R.length-1]=="string"?R[R.length-1]+=_:R.push(_),R),[]);this.parts.splice(0),this.parts.push(...I),this.reset()}moveCursor(M){this.typed="",this.cursor=M,this.fire()}reset(){this.moveCursor(this.parts.findIndex(M=>M instanceof p)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var M=this;return n(function*(){let T=yield M.validator(M.value);typeof T=="string"&&(M.errorMsg=T,T=!1),M.error=!T})()}submit(){var M=this;return n(function*(){if(yield M.validate(),M.error){M.color="red",M.fire(),M.render();return}M.done=!0,M.aborted=!1,M.fire(),M.render(),M.out.write(`
`),M.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let M=this.parts[this.cursor].prev();if(M==null)return this.bell();this.moveCursor(this.parts.indexOf(M)),this.render()}right(){let M=this.parts[this.cursor].next();if(M==null)return this.bell();this.moveCursor(this.parts.indexOf(M)),this.render()}next(){let M=this.parts[this.cursor].next();this.moveCursor(M?this.parts.indexOf(M):this.parts.findIndex(T=>T instanceof p)),this.render()}_(M){/\d/.test(M)&&(this.typed+=M,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(i.hide):this.out.write(r(this.outputText,this.out.columns)),super.render(),this.outputText=[v.symbol(this.done,this.aborted),a.bold(this.msg),v.delimiter(!1),this.parts.reduce((M,T,I)=>M.concat(I===this.cursor&&!this.done?a.cyan().underline(T.toString()):T),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((M,T,I)=>M+`
${I?" ":g.pointerSmall} ${a.red().italic(T)}`,"")),this.out.write(u.line+i.to(0)+this.outputText))}}return $e=O,$e}var Me,Lt;function hr(){if(Lt)return Me;Lt=1;function e(m,d,c,b,x,y,S){try{var P=m[y](S),O=P.value}catch($){c($);return}P.done?d(O):Promise.resolve(O).then(b,x)}function n(m){return function(){var d=this,c=arguments;return new Promise(function(b,x){var y=m.apply(d,c);function S(O){e(y,b,x,S,P,"next",O)}function P(O){e(y,b,x,S,P,"throw",O)}S(void 0)})}}const a=q(),t=H(),h=D(),v=h.cursor,r=h.erase,g=j(),s=g.style,u=g.figures,i=g.clear,f=g.lines,p=/[0-9]/,o=m=>m!==void 0,l=(m,d)=>{let c=Math.pow(10,d);return Math.round(m*c)/c};class w extends t{constructor(d={}){super(d),this.transform=s.render(d.style),this.msg=d.message,this.initial=o(d.initial)?d.initial:"",this.float=!!d.float,this.round=d.round||2,this.inc=d.increment||1,this.min=o(d.min)?d.min:-1/0,this.max=o(d.max)?d.max:1/0,this.errorMsg=d.error||"Please Enter A Valid Value",this.validator=d.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(d){!d&&d!==0?(this.placeholder=!0,this.rendered=a.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${l(d,this.round)}`),this._value=l(d,this.round)),this.fire()}get value(){return this._value}parse(d){return this.float?parseFloat(d):parseInt(d)}valid(d){return d==="-"||d==="."&&this.float||p.test(d)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let d=this.value;this.value=d!==""?d:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var d=this;return n(function*(){let c=yield d.validator(d.value);typeof c=="string"&&(d.errorMsg=c,c=!1),d.error=!c})()}submit(){var d=this;return n(function*(){if(yield d.validate(),d.error){d.color="red",d.fire(),d.render();return}let c=d.value;d.value=c!==""?c:d.initial,d.done=!0,d.aborted=!1,d.error=!1,d.fire(),d.render(),d.out.write(`
`),d.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let d=this.value.toString();if(d.length===0)return this.bell();this.value=this.parse(d=d.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(d,c){if(!this.valid(d))return this.bell();const b=Date.now();if(b-this.lastHit>1e3&&(this.typed=""),this.typed+=d,this.lastHit=b,this.color="cyan",d===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(v.down(f(this.outputError,this.out.columns)-1)+i(this.outputError,this.out.columns)),this.out.write(i(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[s.symbol(this.done,this.aborted),a.bold(this.msg),s.delimiter(this.done),!this.done||!this.done&&!this.placeholder?a[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((d,c,b)=>d+`
${b?" ":u.pointerSmall} ${a.red().italic(c)}`,"")),this.out.write(r.line+v.to(0)+this.outputText+v.save+this.outputError+v.restore))}}return Me=w,Me}var Oe,Nt;function Ut(){if(Nt)return Oe;Nt=1;const e=q(),n=D(),a=n.cursor,t=H(),h=j(),v=h.clear,r=h.figures,g=h.style,s=h.wrap,u=h.entriesToDisplay;class i extends t{constructor(p={}){super(p),this.msg=p.message,this.cursor=p.cursor||0,this.scrollIndex=p.cursor||0,this.hint=p.hint||"",this.warn=p.warn||"- This option is disabled -",this.minSelected=p.min,this.showMinError=!1,this.maxChoices=p.max,this.instructions=p.instructions,this.optionsPerPage=p.optionsPerPage||10,this.value=p.choices.map((o,l)=>(typeof o=="string"&&(o={title:o,value:l}),{title:o&&(o.title||o.value||o),description:o&&o.description,value:o&&(o.value===void 0?l:o.value),selected:o&&o.selected,disabled:o&&o.disabled})),this.clear=v("",this.out.columns),p.overrideRender||this.render()}reset(){this.value.map(p=>!p.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(p=>p.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const p=this.value.filter(o=>o.selected);this.minSelected&&p.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(p=>p.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const p=this.value[this.cursor];if(p.selected)p.selected=!1,this.render();else{if(p.disabled||this.value.filter(o=>o.selected).length>=this.maxChoices)return this.bell();p.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const p=!this.value[this.cursor].selected;this.value.filter(o=>!o.disabled).forEach(o=>o.selected=p),this.render()}_(p,o){if(p===" ")this.handleSpaceToggle();else if(p==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${r.arrowUp}/${r.arrowDown}: Highlight option
    ${r.arrowLeft}/${r.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(p,o,l,w){const m=(o.selected?e.green(r.radioOn):r.radioOff)+" "+w+" ";let d,c;return o.disabled?d=p===l?e.gray().underline(o.title):e.strikethrough().gray(o.title):(d=p===l?e.cyan().underline(o.title):o.title,p===l&&o.description&&(c=` - ${o.description}`,(m.length+d.length+c.length>=this.out.columns||o.description.split(/\r?\n/).length>1)&&(c=`
`+s(o.description,{margin:m.length,width:this.out.columns})))),m+d+e.gray(c||"")}paginateOptions(p){if(p.length===0)return e.red("No matches for this query.");let o=u(this.cursor,p.length,this.optionsPerPage),l=o.startIndex,w=o.endIndex,m,d=[];for(let c=l;c<w;c++)c===l&&l>0?m=r.arrowUp:c===w-1&&w<p.length?m=r.arrowDown:m=" ",d.push(this.renderOption(this.cursor,p[c],c,m));return`
`+d.join(`
`)}renderOptions(p){return this.done?"":this.paginateOptions(p)}renderDoneOrInstructions(){if(this.done)return this.value.filter(o=>o.selected).map(o=>o.title).join(", ");const p=[e.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&p.push(e.yellow(this.warn)),p.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(a.hide),super.render();let p=[g.symbol(this.done,this.aborted),e.bold(this.msg),g.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(p+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),p+=this.renderOptions(this.value),this.out.write(this.clear+p),this.clear=v(p,this.out.columns)}}return Oe=i,Oe}var Pe,Gt;function lr(){if(Gt)return Pe;Gt=1;function e(d,c,b,x,y,S,P){try{var O=d[S](P),$=O.value}catch(M){b(M);return}O.done?c($):Promise.resolve($).then(x,y)}function n(d){return function(){var c=this,b=arguments;return new Promise(function(x,y){var S=d.apply(c,b);function P($){e(S,x,y,P,O,"next",$)}function O($){e(S,x,y,P,O,"throw",$)}P(void 0)})}}const a=q(),t=H(),h=D(),v=h.erase,r=h.cursor,g=j(),s=g.style,u=g.clear,i=g.figures,f=g.wrap,p=g.entriesToDisplay,o=(d,c)=>d[c]&&(d[c].value||d[c].title||d[c]),l=(d,c)=>d[c]&&(d[c].title||d[c].value||d[c]),w=(d,c)=>{const b=d.findIndex(x=>x.value===c||x.title===c);return b>-1?b:void 0};class m extends t{constructor(c={}){super(c),this.msg=c.message,this.suggest=c.suggest,this.choices=c.choices,this.initial=typeof c.initial=="number"?c.initial:w(c.choices,c.initial),this.select=this.initial||c.cursor||0,this.i18n={noMatches:c.noMatches||"no matches found"},this.fallback=c.fallback||this.initial,this.clearFirst=c.clearFirst||!1,this.suggestions=[],this.input="",this.limit=c.limit||10,this.cursor=0,this.transform=s.render(c.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=u("",this.out.columns),this.complete(this.render),this.render()}set fallback(c){this._fb=Number.isSafeInteger(parseInt(c))?parseInt(c):c}get fallback(){let c;return typeof this._fb=="number"?c=this.choices[this._fb]:typeof this._fb=="string"&&(c={title:this._fb}),c||this._fb||{title:this.i18n.noMatches}}moveSelect(c){this.select=c,this.suggestions.length>0?this.value=o(this.suggestions,c):this.value=this.fallback.value,this.fire()}complete(c){var b=this;return n(function*(){const x=b.completing=b.suggest(b.input,b.choices),y=yield x;if(b.completing!==x)return;b.suggestions=y.map((P,O,$)=>({title:l($,O),value:o($,O),description:P.description})),b.completing=!1;const S=Math.max(y.length-1,0);b.moveSelect(Math.min(S,b.select)),c&&c()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(c,b){let x=this.input.slice(0,this.cursor),y=this.input.slice(this.cursor);this.input=`${x}${c}${y}`,this.cursor=x.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let c=this.input.slice(0,this.cursor-1),b=this.input.slice(this.cursor);this.input=`${c}${b}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let c=this.input.slice(0,this.cursor),b=this.input.slice(this.cursor+1);this.input=`${c}${b}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(c,b,x,y){let S,P=x?i.arrowUp:y?i.arrowDown:" ",O=b?a.cyan().underline(c.title):c.title;return P=(b?a.cyan(i.pointer)+" ":"  ")+P,c.description&&(S=` - ${c.description}`,(P.length+O.length+S.length>=this.out.columns||c.description.split(/\r?\n/).length>1)&&(S=`
`+f(c.description,{margin:3,width:this.out.columns}))),P+" "+O+a.gray(S||"")}render(){if(this.closed)return;this.firstRender?this.out.write(r.hide):this.out.write(u(this.outputText,this.out.columns)),super.render();let c=p(this.select,this.choices.length,this.limit),b=c.startIndex,x=c.endIndex;if(this.outputText=[s.symbol(this.done,this.aborted,this.exited),a.bold(this.msg),s.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const y=this.suggestions.slice(b,x).map((S,P)=>this.renderOption(S,this.select===P+b,P===0&&b>0,P+b===x-1&&x<this.choices.length)).join(`
`);this.outputText+=`
`+(y||a.gray(this.fallback.title))}this.out.write(v.line+r.to(0)+this.outputText)}}return Pe=m,Pe}var Te,Bt;function ur(){if(Bt)return Te;Bt=1;const e=q(),n=D(),a=n.cursor,t=Ut(),h=j(),v=h.clear,r=h.style,g=h.figures;class s extends t{constructor(i={}){i.overrideRender=!0,super(i),this.inputValue="",this.clear=v("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const i=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(p=>this.inputValue?!!(typeof p.title=="string"&&p.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof p.value=="string"&&p.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const f=this.filteredOptions.findIndex(p=>p===i);this.cursor=f<0?0:f,this.render()}handleSpaceToggle(){const i=this.filteredOptions[this.cursor];if(i.selected)i.selected=!1,this.render();else{if(i.disabled||this.value.filter(f=>f.selected).length>=this.maxChoices)return this.bell();i.selected=!0,this.render()}}handleInputChange(i){this.inputValue=this.inputValue+i,this.updateFilteredOptions()}_(i,f){i===" "?this.handleSpaceToggle():this.handleInputChange(i)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${g.arrowUp}/${g.arrowDown}: Highlight option
    ${g.arrowLeft}/${g.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:e.gray("Enter something to filter")}
`}renderOption(i,f,p){let o;return f.disabled?o=i===p?e.gray().underline(f.title):e.strikethrough().gray(f.title):o=i===p?e.cyan().underline(f.title):f.title,(f.selected?e.green(g.radioOn):g.radioOff)+"  "+o}renderDoneOrInstructions(){if(this.done)return this.value.filter(f=>f.selected).map(f=>f.title).join(", ");const i=[e.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&i.push(e.yellow(this.warn)),i.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(a.hide),super.render();let i=[r.symbol(this.done,this.aborted),e.bold(this.msg),r.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+i),this.clear=v(i,this.out.columns)}}return Te=s,Te}var qe,Jt;function ar(){if(Jt)return qe;Jt=1;const e=q(),n=H(),a=j(),t=a.style,h=a.clear,v=D(),r=v.erase,g=v.cursor;class s extends n{constructor(i={}){super(i),this.msg=i.message,this.value=i.initial,this.initialValue=!!i.initial,this.yesMsg=i.yes||"yes",this.yesOption=i.yesOption||"(Y/n)",this.noMsg=i.no||"no",this.noOption=i.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(i,f){return i.toLowerCase()==="y"?(this.value=!0,this.submit()):i.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(g.hide):this.out.write(h(this.outputText,this.out.columns)),super.render(),this.outputText=[t.symbol(this.done,this.aborted),e.bold(this.msg),t.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:e.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(r.line+g.to(0)+this.outputText))}}return qe=s,qe}var De,Wt;function cr(){return Wt||(Wt=1,De={TextPrompt:Wi(),SelectPrompt:zi(),TogglePrompt:Ki(),DatePrompt:or(),NumberPrompt:hr(),MultiselectPrompt:Ut(),AutocompletePrompt:lr(),AutocompleteMultiselectPrompt:ur(),ConfirmPrompt:ar()}),De}var zt;function dr(){return zt||(zt=1,function(e){const n=e,a=cr(),t=r=>r;function h(r,g,s={}){return new Promise((u,i)=>{const f=new a[r](g),p=s.onAbort||t,o=s.onSubmit||t,l=s.onExit||t;f.on("state",g.onState||t),f.on("submit",w=>u(o(w))),f.on("exit",w=>u(l(w))),f.on("abort",w=>i(p(w)))})}n.text=r=>h("TextPrompt",r),n.password=r=>(r.style="password",n.text(r)),n.invisible=r=>(r.style="invisible",n.text(r)),n.number=r=>h("NumberPrompt",r),n.date=r=>h("DatePrompt",r),n.confirm=r=>h("ConfirmPrompt",r),n.list=r=>{const g=r.separator||",";return h("TextPrompt",r,{onSubmit:s=>s.split(g).map(u=>u.trim())})},n.toggle=r=>h("TogglePrompt",r),n.select=r=>h("SelectPrompt",r),n.multiselect=r=>{r.choices=[].concat(r.choices||[]);const g=s=>s.filter(u=>u.selected).map(u=>u.value);return h("MultiselectPrompt",r,{onAbort:g,onSubmit:g})},n.autocompleteMultiselect=r=>{r.choices=[].concat(r.choices||[]);const g=s=>s.filter(u=>u.selected).map(u=>u.value);return h("AutocompleteMultiselectPrompt",r,{onAbort:g,onSubmit:g})};const v=(r,g)=>Promise.resolve(g.filter(s=>s.title.slice(0,r.length).toLowerCase()===r.toLowerCase()));n.autocomplete=r=>(r.suggest=r.suggest||v,r.choices=[].concat(r.choices||[]),h("AutocompletePrompt",r))}(K)),K}var Re,Kt;function fr(){if(Kt)return Re;Kt=1;function e(m,d){var c=Object.keys(m);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(m);d&&(b=b.filter(function(x){return Object.getOwnPropertyDescriptor(m,x).enumerable})),c.push.apply(c,b)}return c}function n(m){for(var d=1;d<arguments.length;d++){var c=arguments[d]!=null?arguments[d]:{};d%2?e(Object(c),!0).forEach(function(b){a(m,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(c)):e(Object(c)).forEach(function(b){Object.defineProperty(m,b,Object.getOwnPropertyDescriptor(c,b))})}return m}function a(m,d,c){return d in m?Object.defineProperty(m,d,{value:c,enumerable:!0,configurable:!0,writable:!0}):m[d]=c,m}function t(m,d){var c=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!c){if(Array.isArray(m)||(c=h(m))||d&&m&&typeof m.length=="number"){c&&(m=c);var b=0,x=function(){};return{s:x,n:function(){return b>=m.length?{done:!0}:{done:!1,value:m[b++]}},e:function($){throw $},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=!0,S=!1,P;return{s:function(){c=c.call(m)},n:function(){var $=c.next();return y=$.done,$},e:function($){S=!0,P=$},f:function(){try{!y&&c.return!=null&&c.return()}finally{if(S)throw P}}}}function h(m,d){if(m){if(typeof m=="string")return v(m,d);var c=Object.prototype.toString.call(m).slice(8,-1);if(c==="Object"&&m.constructor&&(c=m.constructor.name),c==="Map"||c==="Set")return Array.from(m);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return v(m,d)}}function v(m,d){(d==null||d>m.length)&&(d=m.length);for(var c=0,b=new Array(d);c<d;c++)b[c]=m[c];return b}function r(m,d,c,b,x,y,S){try{var P=m[y](S),O=P.value}catch($){c($);return}P.done?d(O):Promise.resolve(O).then(b,x)}function g(m){return function(){var d=this,c=arguments;return new Promise(function(b,x){var y=m.apply(d,c);function S(O){r(y,b,x,S,P,"next",O)}function P(O){r(y,b,x,S,P,"throw",O)}S(void 0)})}}const s=dr(),u=["suggest","format","onState","validate","onRender","type"],i=()=>{};function f(){return p.apply(this,arguments)}function p(){return p=g(function*(m=[],{onSubmit:d=i,onCancel:c=i}={}){const b={},x=f._override||{};m=[].concat(m);let y,S,P,O,$,M;const T=function(){var A=g(function*(C,N,at=!1){if(!(!at&&C.validate&&C.validate(N)!==!0))return C.format?yield C.format(N,b):N});return function(N,at){return A.apply(this,arguments)}}();var I=t(m),R;try{for(I.s();!(R=I.n()).done;){S=R.value;var _=S;if(O=_.name,$=_.type,typeof $=="function"&&($=yield $(y,n({},b),S),S.type=$),!!$){for(let A in S){if(u.includes(A))continue;let C=S[A];S[A]=typeof C=="function"?yield C(y,n({},b),M):C}if(M=S,typeof S.message!="string")throw new Error("prompt message is required");var E=S;if(O=E.name,$=E.type,s[$]===void 0)throw new Error(`prompt type (${$}) is not defined`);if(x[S.name]!==void 0&&(y=yield T(S,x[S.name]),y!==void 0)){b[O]=y;continue}try{y=f._injected?o(f._injected,S.initial):yield s[$](S),b[O]=y=yield T(S,y,!0),P=yield d(S,y,b)}catch{P=!(yield c(S,b))}if(P)return b}}}catch(A){I.e(A)}finally{I.f()}return b}),p.apply(this,arguments)}function o(m,d){const c=m.shift();if(c instanceof Error)throw c;return c===void 0?d:c}function l(m){f._injected=(f._injected||[]).concat(m)}function w(m){f._override=Object.assign({},m)}return Re=Object.assign(f,{prompt:f,prompts:s,inject:l,override:w}),Re}var _e={},Ce,Zt;function pr(){return Zt||(Zt=1,Ce=(e,n)=>{if(!(e.meta&&e.name!=="escape")){if(e.ctrl){if(e.name==="a")return"first";if(e.name==="c"||e.name==="d")return"abort";if(e.name==="e")return"last";if(e.name==="g")return"reset"}if(n){if(e.name==="j")return"down";if(e.name==="k")return"up"}return e.name==="return"||e.name==="enter"?"submit":e.name==="backspace"?"delete":e.name==="delete"?"deleteForward":e.name==="abort"?"abort":e.name==="escape"?"exit":e.name==="tab"?"next":e.name==="pagedown"?"nextPage":e.name==="pageup"?"prevPage":e.name==="home"?"home":e.name==="end"?"end":e.name==="up"?"up":e.name==="down"?"down":e.name==="right"?"right":e.name==="left"?"left":!1}}),Ce}var Ie,Xt;function Ae(){return Xt||(Xt=1,Ie=e=>{const n=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),a=new RegExp(n,"g");return typeof e=="string"?e.replace(a,""):e}),Ie}var Ee,Qt;function mr(){if(Qt)return Ee;Qt=1;const e=Ae(),{erase:n,cursor:a}=D(),t=h=>[...e(h)].length;return Ee=function(h,v){if(!v)return n.line+a.to(0);let r=0;const g=h.split(/\r?\n/);for(let s of g)r+=1+Math.floor(Math.max(t(s)-1,0)/v);return n.lines(r)},Ee}var je,ei;function ti(){if(ei)return je;ei=1;const e={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},n={arrowUp:e.arrowUp,arrowDown:e.arrowDown,arrowLeft:e.arrowLeft,arrowRight:e.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return je=process.platform==="win32"?n:e,je}var ke,ii;function gr(){if(ii)return ke;ii=1;const e=q(),n=ti(),a=Object.freeze({password:{scale:1,render:s=>"*".repeat(s.length)},emoji:{scale:2,render:s=>"\u{1F603}".repeat(s.length)},invisible:{scale:0,render:s=>""},default:{scale:1,render:s=>`${s}`}}),t=s=>a[s]||a.default,h=Object.freeze({aborted:e.red(n.cross),done:e.green(n.tick),exited:e.yellow(n.cross),default:e.cyan("?")});return ke={styles:a,render:t,symbols:h,symbol:(s,u,i)=>u?h.aborted:i?h.exited:s?h.done:h.default,delimiter:s=>e.gray(s?n.ellipsis:n.pointerSmall),item:(s,u)=>e.gray(s?u?n.pointerSmall:"+":n.line)},ke}var Fe,ri;function vr(){if(ri)return Fe;ri=1;const e=Ae();return Fe=function(n,a){let t=String(e(n)||"").split(/\r?\n/);return a?t.map(h=>Math.ceil(h.length/a)).reduce((h,v)=>h+v):t.length},Fe}var Ye,si;function br(){return si||(si=1,Ye=(e,n={})=>{const a=Number.isSafeInteger(parseInt(n.margin))?new Array(parseInt(n.margin)).fill(" ").join(""):n.margin||"",t=n.width;return(e||"").split(/\r?\n/g).map(h=>h.split(/\s+/g).reduce((v,r)=>(r.length+a.length>=t||v[v.length-1].length+r.length+1<t?v[v.length-1]+=` ${r}`:v.push(`${a}${r}`),v),[a]).join(`
`)).join(`
`)}),Ye}var He,ni;function wr(){return ni||(ni=1,He=(e,n,a)=>{a=a||n;let t=Math.min(n-a,e-Math.floor(a/2));t<0&&(t=0);let h=Math.min(t+a,n);return{startIndex:t,endIndex:h}}),He}var Ve,oi;function k(){return oi||(oi=1,Ve={action:pr(),clear:mr(),style:gr(),strip:Ae(),figures:ti(),lines:vr(),wrap:br(),entriesToDisplay:wr()}),Ve}var Le,hi;function V(){if(hi)return Le;hi=1;const e=ct,{action:n}=k(),a=dt,{beep:t,cursor:h}=D(),v=q();class r extends a{constructor(s={}){super(),this.firstRender=!0,this.in=s.stdin||process.stdin,this.out=s.stdout||process.stdout,this.onRender=(s.onRender||(()=>{})).bind(this);const u=e.createInterface({input:this.in,escapeCodeTimeout:50});e.emitKeypressEvents(this.in,u),this.in.isTTY&&this.in.setRawMode(!0);const i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,f=(p,o)=>{let l=n(o,i);l===!1?this._&&this._(p,o):typeof this[l]=="function"?this[l](o):this.bell()};this.close=()=>{this.out.write(h.show),this.in.removeListener("keypress",f),this.in.isTTY&&this.in.setRawMode(!1),u.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",f)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(t)}render(){this.onRender(v),this.firstRender&&(this.firstRender=!1)}}return Le=r,Le}var Ne,li;function yr(){if(li)return Ne;li=1;const e=q(),n=V(),{erase:a,cursor:t}=D(),{style:h,clear:v,lines:r,figures:g}=k();class s extends n{constructor(i={}){super(i),this.transform=h.render(i.style),this.scale=this.transform.scale,this.msg=i.message,this.initial=i.initial||"",this.validator=i.validate||(()=>!0),this.value="",this.errorMsg=i.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=v("",this.out.columns),this.render()}set value(i){!i&&this.initial?(this.placeholder=!0,this.rendered=e.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(i)),this._value=i,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let i=await this.validator(this.value);typeof i=="string"&&(this.errorMsg=i,i=!1),this.error=!i}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(i){this.placeholder||(this.cursor=this.cursor+i,this.cursorOffset+=i)}_(i,f){let p=this.value.slice(0,this.cursor),o=this.value.slice(this.cursor);this.value=`${p}${i}${o}`,this.red=!1,this.cursor=this.placeholder?0:p.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let i=this.value.slice(0,this.cursor-1),f=this.value.slice(this.cursor);this.value=`${i}${f}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let i=this.value.slice(0,this.cursor),f=this.value.slice(this.cursor+1);this.value=`${i}${f}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(t.down(r(this.outputError,this.out.columns)-1)+v(this.outputError,this.out.columns)),this.out.write(v(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[h.symbol(this.done,this.aborted),e.bold(this.msg),h.delimiter(this.done),this.red?e.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((i,f,p)=>i+`
${p?" ":g.pointerSmall} ${e.red().italic(f)}`,"")),this.out.write(a.line+t.to(0)+this.outputText+t.save+this.outputError+t.restore+t.move(this.cursorOffset,0)))}}return Ne=s,Ne}var Ue,ui;function xr(){if(ui)return Ue;ui=1;const e=q(),n=V(),{style:a,clear:t,figures:h,wrap:v,entriesToDisplay:r}=k(),{cursor:g}=D();class s extends n{constructor(i={}){super(i),this.msg=i.message,this.hint=i.hint||"- Use arrow-keys. Return to submit.",this.warn=i.warn||"- This option is disabled",this.cursor=i.initial||0,this.choices=i.choices.map((f,p)=>(typeof f=="string"&&(f={title:f,value:p}),{title:f&&(f.title||f.value||f),value:f&&(f.value===void 0?p:f.value),description:f&&f.description,selected:f&&f.selected,disabled:f&&f.disabled})),this.optionsPerPage=i.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=t("",this.out.columns),this.render()}moveCursor(i){this.cursor=i,this.value=this.choices[i].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(i,f){if(i===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(g.hide):this.out.write(t(this.outputText,this.out.columns)),super.render();let{startIndex:i,endIndex:f}=r(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[a.symbol(this.done,this.aborted),e.bold(this.msg),a.delimiter(!1),this.done?this.selection.title:this.selection.disabled?e.yellow(this.warn):e.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let p=i;p<f;p++){let o,l,w="",m=this.choices[p];p===i&&i>0?l=h.arrowUp:p===f-1&&f<this.choices.length?l=h.arrowDown:l=" ",m.disabled?(o=this.cursor===p?e.gray().underline(m.title):e.strikethrough().gray(m.title),l=(this.cursor===p?e.bold().gray(h.pointer)+" ":"  ")+l):(o=this.cursor===p?e.cyan().underline(m.title):m.title,l=(this.cursor===p?e.cyan(h.pointer)+" ":"  ")+l,m.description&&this.cursor===p&&(w=` - ${m.description}`,(l.length+o.length+w.length>=this.out.columns||m.description.split(/\r?\n/).length>1)&&(w=`
`+v(m.description,{margin:3,width:this.out.columns})))),this.outputText+=`${l} ${o}${e.gray(w)}
`}}this.out.write(this.outputText)}}return Ue=s,Ue}var Ge,ai;function Sr(){if(ai)return Ge;ai=1;const e=q(),n=V(),{style:a,clear:t}=k(),{cursor:h,erase:v}=D();class r extends n{constructor(s={}){super(s),this.msg=s.message,this.value=!!s.initial,this.active=s.active||"on",this.inactive=s.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(s,u){if(s===" ")this.value=!this.value;else if(s==="1")this.value=!0;else if(s==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(h.hide):this.out.write(t(this.outputText,this.out.columns)),super.render(),this.outputText=[a.symbol(this.done,this.aborted),e.bold(this.msg),a.delimiter(this.done),this.value?this.inactive:e.cyan().underline(this.inactive),e.gray("/"),this.value?e.cyan().underline(this.active):this.active].join(" "),this.out.write(v.line+h.to(0)+this.outputText))}}return Ge=r,Ge}var Be,ci;function Y(){if(ci)return Be;ci=1;class e{constructor({token:a,date:t,parts:h,locales:v}){this.token=a,this.date=t||new Date,this.parts=h||[this],this.locales=v||{}}up(){}down(){}next(){const a=this.parts.indexOf(this);return this.parts.find((t,h)=>h>a&&t instanceof e)}setTo(a){}prev(){let a=[].concat(this.parts).reverse();const t=a.indexOf(this);return a.find((h,v)=>v>t&&h instanceof e)}toString(){return String(this.date)}}return Be=e,Be}var Je,di;function $r(){if(di)return Je;di=1;const e=Y();class n extends e{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}return Je=n,Je}var We,fi;function Mr(){if(fi)return We;fi=1;const e=Y(),n=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th");class a extends e{constructor(h={}){super(h)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(h){this.date.setDate(parseInt(h.substr(-2)))}toString(){let h=this.date.getDate(),v=this.date.getDay();return this.token==="DD"?String(h).padStart(2,"0"):this.token==="Do"?h+n(h):this.token==="d"?v+1:this.token==="ddd"?this.locales.weekdaysShort[v]:this.token==="dddd"?this.locales.weekdays[v]:h}}return We=a,We}var ze,pi;function Or(){if(pi)return ze;pi=1;const e=Y();class n extends e{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}}return ze=n,ze}var Ke,mi;function Pr(){if(mi)return Ke;mi=1;const e=Y();class n extends e{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return Ke=n,Ke}var Ze,gi;function Tr(){if(gi)return Ze;gi=1;const e=Y();class n extends e{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}return Ze=n,Ze}var Xe,vi;function qr(){if(vi)return Xe;vi=1;const e=Y();class n extends e{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),h=this.token.length;return h===2?String(t+1).padStart(2,"0"):h===3?this.locales.monthsShort[t]:h===4?this.locales.months[t]:String(t+1)}}return Xe=n,Xe}var Qe,bi;function Dr(){if(bi)return Qe;bi=1;const e=Y();class n extends e{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}return Qe=n,Qe}var et,wi;function Rr(){if(wi)return et;wi=1;const e=Y();class n extends e{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}}return et=n,et}var tt,yi;function _r(){return yi||(yi=1,tt={DatePart:Y(),Meridiem:$r(),Day:Mr(),Hours:Or(),Milliseconds:Pr(),Minutes:Tr(),Month:qr(),Seconds:Dr(),Year:Rr()}),tt}var it,xi;function Cr(){if(xi)return it;xi=1;const e=q(),n=V(),{style:a,clear:t,figures:h}=k(),{erase:v,cursor:r}=D(),{DatePart:g,Meridiem:s,Day:u,Hours:i,Milliseconds:f,Minutes:p,Month:o,Seconds:l,Year:w}=_r(),m=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,d={1:({token:x})=>x.replace(/\\(.)/g,"$1"),2:x=>new u(x),3:x=>new o(x),4:x=>new w(x),5:x=>new s(x),6:x=>new i(x),7:x=>new p(x),8:x=>new l(x),9:x=>new f(x)},c={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class b extends n{constructor(y={}){super(y),this.msg=y.message,this.cursor=0,this.typed="",this.locales=Object.assign(c,y.locales),this._date=y.initial||new Date,this.errorMsg=y.error||"Please Enter A Valid Value",this.validator=y.validate||(()=>!0),this.mask=y.mask||"YYYY-MM-DD HH:mm:ss",this.clear=t("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(y){y&&this._date.setTime(y.getTime())}set mask(y){let S;for(this.parts=[];S=m.exec(y);){let O=S.shift(),$=S.findIndex(M=>M!=null);this.parts.push($ in d?d[$]({token:S[$]||O,date:this.date,parts:this.parts,locales:this.locales}):S[$]||O)}let P=this.parts.reduce((O,$)=>(typeof $=="string"&&typeof O[O.length-1]=="string"?O[O.length-1]+=$:O.push($),O),[]);this.parts.splice(0),this.parts.push(...P),this.reset()}moveCursor(y){this.typed="",this.cursor=y,this.fire()}reset(){this.moveCursor(this.parts.findIndex(y=>y instanceof g)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let y=await this.validator(this.value);typeof y=="string"&&(this.errorMsg=y,y=!1),this.error=!y}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let y=this.parts[this.cursor].prev();if(y==null)return this.bell();this.moveCursor(this.parts.indexOf(y)),this.render()}right(){let y=this.parts[this.cursor].next();if(y==null)return this.bell();this.moveCursor(this.parts.indexOf(y)),this.render()}next(){let y=this.parts[this.cursor].next();this.moveCursor(y?this.parts.indexOf(y):this.parts.findIndex(S=>S instanceof g)),this.render()}_(y){/\d/.test(y)&&(this.typed+=y,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(r.hide):this.out.write(t(this.outputText,this.out.columns)),super.render(),this.outputText=[a.symbol(this.done,this.aborted),e.bold(this.msg),a.delimiter(!1),this.parts.reduce((y,S,P)=>y.concat(P===this.cursor&&!this.done?e.cyan().underline(S.toString()):S),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((y,S,P)=>y+`
${P?" ":h.pointerSmall} ${e.red().italic(S)}`,"")),this.out.write(v.line+r.to(0)+this.outputText))}}return it=b,it}var rt,Si;function Ir(){if(Si)return rt;Si=1;const e=q(),n=V(),{cursor:a,erase:t}=D(),{style:h,figures:v,clear:r,lines:g}=k(),s=/[0-9]/,u=p=>p!==void 0,i=(p,o)=>{let l=Math.pow(10,o);return Math.round(p*l)/l};class f extends n{constructor(o={}){super(o),this.transform=h.render(o.style),this.msg=o.message,this.initial=u(o.initial)?o.initial:"",this.float=!!o.float,this.round=o.round||2,this.inc=o.increment||1,this.min=u(o.min)?o.min:-1/0,this.max=u(o.max)?o.max:1/0,this.errorMsg=o.error||"Please Enter A Valid Value",this.validator=o.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(o){!o&&o!==0?(this.placeholder=!0,this.rendered=e.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${i(o,this.round)}`),this._value=i(o,this.round)),this.fire()}get value(){return this._value}parse(o){return this.float?parseFloat(o):parseInt(o)}valid(o){return o==="-"||o==="."&&this.float||s.test(o)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let o=this.value;this.value=o!==""?o:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let o=await this.validator(this.value);typeof o=="string"&&(this.errorMsg=o,o=!1),this.error=!o}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let o=this.value;this.value=o!==""?o:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let o=this.value.toString();if(o.length===0)return this.bell();this.value=this.parse(o=o.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(o,l){if(!this.valid(o))return this.bell();const w=Date.now();if(w-this.lastHit>1e3&&(this.typed=""),this.typed+=o,this.lastHit=w,this.color="cyan",o===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(a.down(g(this.outputError,this.out.columns)-1)+r(this.outputError,this.out.columns)),this.out.write(r(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[h.symbol(this.done,this.aborted),e.bold(this.msg),h.delimiter(this.done),!this.done||!this.done&&!this.placeholder?e[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((o,l,w)=>o+`
${w?" ":v.pointerSmall} ${e.red().italic(l)}`,"")),this.out.write(t.line+a.to(0)+this.outputText+a.save+this.outputError+a.restore))}}return rt=f,rt}var st,$i;function Mi(){if($i)return st;$i=1;const e=q(),{cursor:n}=D(),a=V(),{clear:t,figures:h,style:v,wrap:r,entriesToDisplay:g}=k();class s extends a{constructor(i={}){super(i),this.msg=i.message,this.cursor=i.cursor||0,this.scrollIndex=i.cursor||0,this.hint=i.hint||"",this.warn=i.warn||"- This option is disabled -",this.minSelected=i.min,this.showMinError=!1,this.maxChoices=i.max,this.instructions=i.instructions,this.optionsPerPage=i.optionsPerPage||10,this.value=i.choices.map((f,p)=>(typeof f=="string"&&(f={title:f,value:p}),{title:f&&(f.title||f.value||f),description:f&&f.description,value:f&&(f.value===void 0?p:f.value),selected:f&&f.selected,disabled:f&&f.disabled})),this.clear=t("",this.out.columns),i.overrideRender||this.render()}reset(){this.value.map(i=>!i.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(i=>i.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const i=this.value.filter(f=>f.selected);this.minSelected&&i.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const i=this.value[this.cursor];if(i.selected)i.selected=!1,this.render();else{if(i.disabled||this.value.filter(f=>f.selected).length>=this.maxChoices)return this.bell();i.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const i=!this.value[this.cursor].selected;this.value.filter(f=>!f.disabled).forEach(f=>f.selected=i),this.render()}_(i,f){if(i===" ")this.handleSpaceToggle();else if(i==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${h.arrowUp}/${h.arrowDown}: Highlight option
    ${h.arrowLeft}/${h.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(i,f,p,o){const l=(f.selected?e.green(h.radioOn):h.radioOff)+" "+o+" ";let w,m;return f.disabled?w=i===p?e.gray().underline(f.title):e.strikethrough().gray(f.title):(w=i===p?e.cyan().underline(f.title):f.title,i===p&&f.description&&(m=` - ${f.description}`,(l.length+w.length+m.length>=this.out.columns||f.description.split(/\r?\n/).length>1)&&(m=`
`+r(f.description,{margin:l.length,width:this.out.columns})))),l+w+e.gray(m||"")}paginateOptions(i){if(i.length===0)return e.red("No matches for this query.");let{startIndex:f,endIndex:p}=g(this.cursor,i.length,this.optionsPerPage),o,l=[];for(let w=f;w<p;w++)w===f&&f>0?o=h.arrowUp:w===p-1&&p<i.length?o=h.arrowDown:o=" ",l.push(this.renderOption(this.cursor,i[w],w,o));return`
`+l.join(`
`)}renderOptions(i){return this.done?"":this.paginateOptions(i)}renderDoneOrInstructions(){if(this.done)return this.value.filter(f=>f.selected).map(f=>f.title).join(", ");const i=[e.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&i.push(e.yellow(this.warn)),i.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(n.hide),super.render();let i=[v.symbol(this.done,this.aborted),e.bold(this.msg),v.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.value),this.out.write(this.clear+i),this.clear=t(i,this.out.columns)}}return st=s,st}var nt,Oi;function Ar(){if(Oi)return nt;Oi=1;const e=q(),n=V(),{erase:a,cursor:t}=D(),{style:h,clear:v,figures:r,wrap:g,entriesToDisplay:s}=k(),u=(o,l)=>o[l]&&(o[l].value||o[l].title||o[l]),i=(o,l)=>o[l]&&(o[l].title||o[l].value||o[l]),f=(o,l)=>{const w=o.findIndex(m=>m.value===l||m.title===l);return w>-1?w:void 0};class p extends n{constructor(l={}){super(l),this.msg=l.message,this.suggest=l.suggest,this.choices=l.choices,this.initial=typeof l.initial=="number"?l.initial:f(l.choices,l.initial),this.select=this.initial||l.cursor||0,this.i18n={noMatches:l.noMatches||"no matches found"},this.fallback=l.fallback||this.initial,this.clearFirst=l.clearFirst||!1,this.suggestions=[],this.input="",this.limit=l.limit||10,this.cursor=0,this.transform=h.render(l.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=v("",this.out.columns),this.complete(this.render),this.render()}set fallback(l){this._fb=Number.isSafeInteger(parseInt(l))?parseInt(l):l}get fallback(){let l;return typeof this._fb=="number"?l=this.choices[this._fb]:typeof this._fb=="string"&&(l={title:this._fb}),l||this._fb||{title:this.i18n.noMatches}}moveSelect(l){this.select=l,this.suggestions.length>0?this.value=u(this.suggestions,l):this.value=this.fallback.value,this.fire()}async complete(l){const w=this.completing=this.suggest(this.input,this.choices),m=await w;if(this.completing!==w)return;this.suggestions=m.map((c,b,x)=>({title:i(x,b),value:u(x,b),description:c.description})),this.completing=!1;const d=Math.max(m.length-1,0);this.moveSelect(Math.min(d,this.select)),l&&l()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(l,w){let m=this.input.slice(0,this.cursor),d=this.input.slice(this.cursor);this.input=`${m}${l}${d}`,this.cursor=m.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let l=this.input.slice(0,this.cursor-1),w=this.input.slice(this.cursor);this.input=`${l}${w}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let l=this.input.slice(0,this.cursor),w=this.input.slice(this.cursor+1);this.input=`${l}${w}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(l,w,m,d){let c,b=m?r.arrowUp:d?r.arrowDown:" ",x=w?e.cyan().underline(l.title):l.title;return b=(w?e.cyan(r.pointer)+" ":"  ")+b,l.description&&(c=` - ${l.description}`,(b.length+x.length+c.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(c=`
`+g(l.description,{margin:3,width:this.out.columns}))),b+" "+x+e.gray(c||"")}render(){if(this.closed)return;this.firstRender?this.out.write(t.hide):this.out.write(v(this.outputText,this.out.columns)),super.render();let{startIndex:l,endIndex:w}=s(this.select,this.choices.length,this.limit);if(this.outputText=[h.symbol(this.done,this.aborted,this.exited),e.bold(this.msg),h.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const m=this.suggestions.slice(l,w).map((d,c)=>this.renderOption(d,this.select===c+l,c===0&&l>0,c+l===w-1&&w<this.choices.length)).join(`
`);this.outputText+=`
`+(m||e.gray(this.fallback.title))}this.out.write(a.line+t.to(0)+this.outputText)}}return nt=p,nt}var ot,Pi;function Er(){if(Pi)return ot;Pi=1;const e=q(),{cursor:n}=D(),a=Mi(),{clear:t,style:h,figures:v}=k();class r extends a{constructor(s={}){s.overrideRender=!0,super(s),this.inputValue="",this.clear=t("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(s=>s.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const s=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(i=>this.inputValue?!!(typeof i.title=="string"&&i.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof i.value=="string"&&i.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const u=this.filteredOptions.findIndex(i=>i===s);this.cursor=u<0?0:u,this.render()}handleSpaceToggle(){const s=this.filteredOptions[this.cursor];if(s.selected)s.selected=!1,this.render();else{if(s.disabled||this.value.filter(u=>u.selected).length>=this.maxChoices)return this.bell();s.selected=!0,this.render()}}handleInputChange(s){this.inputValue=this.inputValue+s,this.updateFilteredOptions()}_(s,u){s===" "?this.handleSpaceToggle():this.handleInputChange(s)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${v.arrowUp}/${v.arrowDown}: Highlight option
    ${v.arrowLeft}/${v.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:e.gray("Enter something to filter")}
`}renderOption(s,u,i){let f;return u.disabled?f=s===i?e.gray().underline(u.title):e.strikethrough().gray(u.title):f=s===i?e.cyan().underline(u.title):u.title,(u.selected?e.green(v.radioOn):v.radioOff)+"  "+f}renderDoneOrInstructions(){if(this.done)return this.value.filter(u=>u.selected).map(u=>u.title).join(", ");const s=[e.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&s.push(e.yellow(this.warn)),s.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(n.hide),super.render();let s=[h.symbol(this.done,this.aborted),e.bold(this.msg),h.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(s+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),s+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+s),this.clear=t(s,this.out.columns)}}return ot=r,ot}var ht,Ti;function jr(){if(Ti)return ht;Ti=1;const e=q(),n=V(),{style:a,clear:t}=k(),{erase:h,cursor:v}=D();class r extends n{constructor(s={}){super(s),this.msg=s.message,this.value=s.initial,this.initialValue=!!s.initial,this.yesMsg=s.yes||"yes",this.yesOption=s.yesOption||"(Y/n)",this.noMsg=s.no||"no",this.noOption=s.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(s,u){return s.toLowerCase()==="y"?(this.value=!0,this.submit()):s.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(v.hide):this.out.write(t(this.outputText,this.out.columns)),super.render(),this.outputText=[a.symbol(this.done,this.aborted),e.bold(this.msg),a.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:e.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(h.line+v.to(0)+this.outputText))}}return ht=r,ht}var lt,qi;function kr(){return qi||(qi=1,lt={TextPrompt:yr(),SelectPrompt:xr(),TogglePrompt:Sr(),DatePrompt:Cr(),NumberPrompt:Ir(),MultiselectPrompt:Mi(),AutocompletePrompt:Ar(),AutocompleteMultiselectPrompt:Er(),ConfirmPrompt:jr()}),lt}var Di;function Fr(){return Di||(Di=1,function(e){const n=e,a=kr(),t=r=>r;function h(r,g,s={}){return new Promise((u,i)=>{const f=new a[r](g),p=s.onAbort||t,o=s.onSubmit||t,l=s.onExit||t;f.on("state",g.onState||t),f.on("submit",w=>u(o(w))),f.on("exit",w=>u(l(w))),f.on("abort",w=>i(p(w)))})}n.text=r=>h("TextPrompt",r),n.password=r=>(r.style="password",n.text(r)),n.invisible=r=>(r.style="invisible",n.text(r)),n.number=r=>h("NumberPrompt",r),n.date=r=>h("DatePrompt",r),n.confirm=r=>h("ConfirmPrompt",r),n.list=r=>{const g=r.separator||",";return h("TextPrompt",r,{onSubmit:s=>s.split(g).map(u=>u.trim())})},n.toggle=r=>h("TogglePrompt",r),n.select=r=>h("SelectPrompt",r),n.multiselect=r=>{r.choices=[].concat(r.choices||[]);const g=s=>s.filter(u=>u.selected).map(u=>u.value);return h("MultiselectPrompt",r,{onAbort:g,onSubmit:g})},n.autocompleteMultiselect=r=>{r.choices=[].concat(r.choices||[]);const g=s=>s.filter(u=>u.selected).map(u=>u.value);return h("AutocompleteMultiselectPrompt",r,{onAbort:g,onSubmit:g})};const v=(r,g)=>Promise.resolve(g.filter(s=>s.title.slice(0,r.length).toLowerCase()===r.toLowerCase()));n.autocomplete=r=>(r.suggest=r.suggest||v,r.choices=[].concat(r.choices||[]),h("AutocompletePrompt",r))}(_e)),_e}var ut,Ri;function Yr(){if(Ri)return ut;Ri=1;const e=Fr(),n=["suggest","format","onState","validate","onRender","type"],a=()=>{};async function t(g=[],{onSubmit:s=a,onCancel:u=a}={}){const i={},f=t._override||{};g=[].concat(g);let p,o,l,w,m,d;const c=async(b,x,y=!1)=>{if(!(!y&&b.validate&&b.validate(x)!==!0))return b.format?await b.format(x,i):x};for(o of g)if({name:w,type:m}=o,typeof m=="function"&&(m=await m(p,{...i},o),o.type=m),!!m){for(let b in o){if(n.includes(b))continue;let x=o[b];o[b]=typeof x=="function"?await x(p,{...i},d):x}if(d=o,typeof o.message!="string")throw new Error("prompt message is required");if({name:w,type:m}=o,e[m]===void 0)throw new Error(`prompt type (${m}) is not defined`);if(f[o.name]!==void 0&&(p=await c(o,f[o.name]),p!==void 0)){i[w]=p;continue}try{p=t._injected?h(t._injected,o.initial):await e[m](o),i[w]=p=await c(o,p,!0),l=await s(o,p,i)}catch{l=!await u(o,i)}if(l)return i}return i}function h(g,s){const u=g.shift();if(u instanceof Error)throw u;return u===void 0?s:u}function v(g){t._injected=(t._injected||[]).concat(g)}function r(g){t._override=Object.assign({},g)}return ut=Object.assign(t,{prompt:t,prompts:e,inject:v,override:r}),ut}function Hr(e){e=(Array.isArray(e)?e:e.split(".")).map(Number);let n=0,a=process.versions.node.split(".").map(Number);for(;n<e.length;n++){if(a[n]>e[n])return!1;if(e[n]>a[n])return!0}return!1}var Vr=Hr("8.6.0")?fr():Yr();const Lr=Vi(Vr);let L=!0;const U=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{};let B=0;if(U.process&&U.process.env&&U.process.stdout){const{FORCE_COLOR:e,NODE_DISABLE_COLORS:n,NO_COLOR:a,TERM:t,COLORTERM:h}=U.process.env;n||a||e==="0"?L=!1:e==="1"||e==="2"||e==="3"?L=!0:t==="dumb"?L=!1:"CI"in U.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(v=>v in U.process.env)?L=!0:L=process.stdout.isTTY,L&&(process.platform==="win32"||h&&(h==="truecolor"||h==="24bit")?B=3:t&&(t.endsWith("-256color")||t.endsWith("256"))?B=2:B=1)}let _i={enabled:L,supportLevel:B};function G(e,n,a=1){const t=`\x1B[${e}m`,h=`\x1B[${n}m`,v=new RegExp(`\\x1b\\[${n}m`,"g");return r=>_i.enabled&&_i.supportLevel>=a?t+(""+r).replace(v,t)+h:""+r}const Ci=G(0,0),Nr=G(31,39),Ur=G(32,39),Gr=G(92,39),Br=G(93,39),Jr=G(94,39);function Ii(e,n){J.statSync(e).isDirectory()?Wr(e,n):J.copyFileSync(e,n)}function Wr(e,n){J.mkdirSync(n,{recursive:!0});for(const a of J.readdirSync(e)){const t=ft.resolve(e,a),h=ft.resolve(n,a);Ii(t,h)}}const zr={name:"ant-design-vue",icon:"@ant-design/icons-vue",baseVersion:"^3.2.20",iconVersion:"^6.1.0"},Kr={name:"element-plus",icon:"@element-plus/icons-vue",baseVersion:"^2.3.7",iconVersion:"^2.1.0"},Zr={name:"vue-devui",icon:"@element-plus/icons-vue",baseVersion:"^1.5.3",iconVersion:"^2.1.0"},z={"antd-vue":zr,"element-plus":Kr,"devui-vue":Zr},Ai=process.cwd(),Xr=[{name:"antd-vue",display:"antd-vue",color:Jr},{name:"element-plus",display:"element-plus",color:Gr},{name:"devui-vue",display:"devui-vue",color:Br}];async function Qr(){let e;try{e=await Lr([{type:"text",name:"projectName",message:Ci("please input the project name"),initial:"vite-wework"},{type:"select",name:"ui-frameWork",message:Ci("please select a ui frameWork"),initial:0,choices:Xr.map(s=>{const{color:u}=s;return{title:u(s.display||s.name),value:s.name}})}],{onCancel:()=>{throw new Error(Nr("OP Canceled"))}})}catch(s){console.log(s.message);return}const n=pt(Yi(import.meta.url),"../..","template"),a=pt(n,"./package.json");console.log(n),console.log(a),console.log(Ai);const t=W(Ai,e.projectName);Ei(t,{recursive:!0});const h=(s,u)=>{const i=W(t,s);u?Fi(i,u):Ii(W(n,s),i)},v=ji(n);for(const s of v.filter(u=>u!=="package.json"))h(s);const r=JSON.parse(ki(W(n,"package.json"),"utf-8"));r.name=e.projectName;const g=e["ui-frameWork"];r.dependencies[z[g].name]=z[g].baseVersion,r.dependencies[z[g].icon]=z[g].iconVersion,h("package.json",JSON.stringify(r,null,2)),console.log(Ur(`Done! now run:
`)),console.log(`  cd ${e.projectName}`),console.log("  npm i"),console.log("  npm run dev"),Hi(0)}Qr().catch(e=>{console.log(e)});
